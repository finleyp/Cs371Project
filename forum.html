<!DOCTYPE html>
<html lang="en-US">

<html>

<head>
  <meta charset="UTF-8" />
  <link rel='stylesheet' type='text/css' href='stylesheet.css' />
  <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
  <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>-->
  <!--<script src="onready.js"></script>-->
  <script src="app.js"></script>
  <title>CIS371 Forum</title>
</head>

<body>
  <div id="app">
    <div class="navBar">
      <h1>{{ title }}</h1>
    </div>
    <v-btn @click="forumPost">New Post</v-btn>
    <div id="new-forum" class="hidden">
      <v-container fill-height red darken-2>
        <v-layout id="titleEntry" row>
          <v-container fluid grey lighten-2>
            <h3>Title: {{ postTitle }}</h3>
            <input v-model="postTitle" class="userInput" placeholder="Enter title">
            <br><br>
            <textarea v-model="postBody" class="userInput" placeholder="Enter body"></textarea>
            <!--<v-btn id="submit-button" @click="submitForumPost" disabled>Submit</v-btn>-->
            <v-btn id="submit-button" @click="submitForumPost">Submit</v-btn>
            <v-btn @click="cancelForumPost">Cancel</v-btn>
          </v-container>
        </v-layout>
      </v-container>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        title: "FORUM.RS",
        postTitle: '',
        postBody: '',
      },
      methods: {
        forumPost() {
          var forumDiv = document.getElementById("new-forum");
          // TODO: Hide all other divs with elements that need to be hidden.
          forumDiv.classList.remove('hidden');
        },
        submitForumPost() {
          if (this.postTitle.length > 0 && this.postBody.length != 0) {
            console.log("Good to go");
            submitPost(this.postTitle, this.postBody);
            this.cancelForumPost();
          }
        },
        cancelForumPost() {
          this.postTitle = '';
          this.postBody = '';
          var forumDiv = document.getElementById("new-forum");
          forumDiv.classList.add('hidden');
        }
      }
    })
  </script>
</body>

</html>