<!DOCTYPE html>
<html>

<head>
  <link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons' rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  <link rel='stylesheet' type='text/css' href='stylesheet.css' />
  <title>CIS371 Forum</title>
</head>
<body>

  <div id="app">
    <v-app>
      <v-toolbar app>
        <v-toolbar-title>Forum Project</v-toolbar-title>
        <v-spacer></v-spacer>
        <v-toolbar-items>
          <v-icon @click="login">restore</v-icon>
        </v-toolbar-items>
      </v-toolbar>
      <v-content>
        <v-container fluid fill-height white lighten-4>
          <v-layout id="Login" class="hidden" row>
              <h3>Login!(Change me later)</h3><br>
              <input type="text" placeholder="Email"><br>
              <input type="password" placeholder="Password"><br>
              <button onclick="addUser">Sign in</button>
          </v-layout>
        </v-container>
      </v-content>
    </v-app>
</body>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBFkmGeQ0atLiNQFPtVpQpUBeQGnCPI1Fo",
    authDomain: "cis-371-forum.firebaseapp.com",
    databaseURL: "https://cis-371-forum.firebaseio.com",
    projectId: "cis-371-forum",
    storageBucket: "cis-371-forum.appspot.com",
    messagingSenderId: "846182067183"
  };
  firebase.initializeApp(config);

  var userRef = firebase.database().ref('users');

  new Vue({
    el: '#app',
    data: {
      newUser: {
        name: '',
        email: ''
      }
    },

    firebase: {
      users: userRef
    },

    methods: {
      addUser: function () {
        userRef.push(this.newUser)
        //jump back to home page
      },

      removeUser: function (user) {
        userRef.child(user['.key']).remove();
      },

      login: function () {
        let login = document.getElementById("login");
        login.removeAttribute("hidden");

      }
    }
  })
</script>

</html>